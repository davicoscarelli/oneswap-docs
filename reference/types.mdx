---
title: Types
description: TypeScript interfaces exported by the SDK.
---

## Quote

```typescript
interface TrafficCostEstimate {
  bytes: number
  usd: string
  cc: string
  extraTrafficPricePerMb: string
  amuletPrice: string
}

interface Quote {
  inputToken: string
  outputToken: string
  inputAmount: string
  outputAmount: string
  rate: string
  priceImpact: string
  fee: number
  poolId: string
  expiresIn: number      // seconds
  estimatedTrafficCost?: TrafficCostEstimate
  inputAmountAfterTrafficFee?: string
}
```

## Wallet

```typescript
interface Wallet {
  walletId: string
  walletAddress: string
  address: string        // Canton party ID
  createdAt: string
}

interface WalletBalance {
  token: string
  amount: string
}

interface WalletListResponse {
  count: number
  wallets: Wallet[]
}

interface WalletBalancesResponse {
  walletAddress: string
  balances: WalletBalance[]
}
```

## Pool

```typescript
interface Pool {
  id: string
  tokenA: { name: string; reserve: string }
  tokenB: { name: string; reserve: string }
  fee: number
  lpTokens: string
}

interface PoolDetail extends Pool {
  swapAddress: string
  lpAddress: string
}

interface PoolListResponse {
  count: number
  pools: Pool[]
}

interface PoolStats {
  apr: string
  apy: string
  volume24h: string
  fees24h: string
  lpFees24h: string
  tvl: string
  swapCount24h: number
}
```

## Swap

```typescript
interface SwapIntentResponse {
  intentId: string
  poolId: string
  depositAddress: string
  swapAddress: string
  inputToken: string
  outputToken: string
  expectedAmount: string
  expectedOutput: string | null
  minOutput: string | null
  slippageTolerance: number
  expiresAt: string
  instructions: Record<string, string>
}

interface SwapStatusResponse {
  intentId: string
  poolId: string
  status: 'pending' | 'matched' | 'deposit_received' | 'forwarded' | 'processing' | 'sending_output' | 'completed' | 'slippage_failed' | 'insufficient_liquidity' | 'insufficient_amount' | 'output_failed' | 'expired' | 'cancelled'
  inputToken: string
  outputToken: string
  expectedAmount: string
  expectedOutput: string | null
  actualOutput: string | null
  minOutput: string | null
  slippageTolerance: number
  matchedAt: string | null
  createdAt: string
  expiresAt: string
}

// Returned by swaps.list() — a subset of SwapStatusResponse
interface SwapListItem {
  intentId: string
  poolId: string
  status: SwapStatus
  inputToken: string
  outputToken: string
  expectedAmount: string
  expectedOutput: string | null
  createdAt: string
  expiresAt: string
}

interface SwapListResponse {
  count: number
  swaps: SwapListItem[]
}
```

## Liquidity

```typescript
interface LpIntentResponse {
  intentId: string
  poolId: string
  depositAddress: string
  lpAddress: string
  tokenA: string
  tokenB: string
  expectedAmountA: string
  expectedAmountB: string
  expiresAt: string
  instructions: Record<string, string>
}

interface LpListResponse {
  count: number
  intents: LpStatusResponse[]
}

interface LpStatusResponse {
  intentId: string
  poolId: string
  status: 'pending' | 'partial' | 'completed' | 'expired'
  tokenA: string
  tokenB: string
  expectedAmountA: string
  expectedAmountB: string
  createdAt: string
  expiresAt: string
}

interface WithdrawParams {
  poolId: string
  ownerParty: string
  amount?: string            // LP tokens to withdraw (defaults to full balance)
  destinationParty: string   // Canton party to receive withdrawn tokens
}

interface WithdrawResponse {
  success: boolean
  lpTokensWithdrawn: string
  returnedA: string
  returnedB: string
  tokenA: string
  tokenB: string
  newReserveA: string
  newReserveB: string
  newTotalLp: string
}
```

## Positions

```typescript
interface LpPosition {
  poolId: string
  poolName: string
  lpTokens: string
  sharePercent: string
  valueTokenA: string
  valueTokenB: string
  tokenA: string
  tokenB: string
  fee: number
}

interface PositionsResponse {
  walletAddress: string
  positions: LpPosition[]
}

interface LpEarnings {
  walletAddress: string
  poolId: string
  partyId: string
  lpBalance: string
  lpSharePercent: string
  estimatedDailyEarnings: string   // projected, not accrued
  estimatedMonthlyEarnings: string // projected, not accrued
  estimatedYearlyEarnings: string  // projected, not accrued
  apr: string
  apy: string
  totalPoolLpTokens: string
  tvl: string
  withdrawable: {
    tokenA: { name: string; amount: string }
    tokenB: { name: string; amount: string }
  }
}
```

## History

```typescript
interface HistoryResponse {
  swaps: {
    count: number
    items: SwapHistoryItem[]
  }
  liquidity: {
    count: number
    items: LpStatusResponse[]
  }
}

// History items are a subset of SwapStatusResponse
interface SwapHistoryItem {
  intentId: string
  poolId: string
  status: SwapStatus
  inputToken: string
  outputToken: string
  expectedAmount: string
  expectedOutput: string | null
  createdAt: string
  expiresAt: string
}
```

## Track

```typescript
interface TrackResponse {
  partyId: string
  swaps: TrackSwapItem[]
  liquidity: LpStatusResponse[]
}

// Track swap items — a subset of SwapStatusResponse
interface TrackSwapItem {
  intentId: string
  poolId: string
  status: SwapStatus
  inputToken: string
  outputToken: string
  expectedAmount: string
  expectedOutput: string | null
  matchedAt: string | null
  createdAt: string
  expiresAt: string
}
```

## Errors

```typescript
class OneSwapError extends Error {
  statusCode: number
  response: unknown
}

class AuthError extends OneSwapError {}        // 401
class ValidationError extends OneSwapError {}  // 400
class NotFoundError extends OneSwapError {}    // 404
class RateLimitError extends OneSwapError {}   // 429
class SlippageError extends OneSwapError {}    // swap refunded
class ExpiredError extends OneSwapError {}     // intent timed out
class ServerError extends OneSwapError {}      // 500
```
